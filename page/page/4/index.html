
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Prskavčí blog</title>
  <meta name="author" content="Ladislav Prskavec">

  
  <meta name="description" content="Jako vývojář jsem si vybral přednášky v Development Room a Development Hall. V pátek začnu na přednášce co má Michal Táborský o Architektuře &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blog.prskavec.net/page//page/4/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/all.css?v=1412111641" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/feed/index.html" rel="alternate" title="Prskavčí blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href='http://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700' rel='stylesheet' type='text/css'>
<meta name="google-site-verification" content="mepQHhq6JPqzvIjErdB-A6hp3UKAYIlYHN7xPUL8JUM" />

  
</head>

<body   >
  <header role="banner"><hgroup>
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/feed/index.html" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.prskavec.net" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archív</a></li>
  <li><a href="/prednasky">Přednášky</a></li>  
  <li><a href="/skoleni-a-kurzy">Školení a kurzy</a></li>
  <li><a href="/kontakt">Kontakt</a></li>  
</ul>

</nav> 
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2011/09/webexpo-2011-na-co-pujdu/">WebExpo 2011 - Na co půjdu</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-09-19T00:00:00+02:00" pubdate data-updated="true">19. 09. 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Jako vývojář jsem si vybral přednášky v Development Room a Development Hall.</p>

<p>V pátek začnu na přednášce co má Michal Táborský o Architektuře škálovatelných aplikací, jistě se dozvíme jak to dělají v Mall.cz. Michala znám a jeho vyprávění a postřehy mi přijdou velmi podobné tomu jako to řešíme v práci i my. Pokračovat budu na své přednášce, kde řeknu něco o tom proč automatizovat deployment, co na to použít. Jak to řešíme v LMC (Jobs.cz, Prace.cz). Po mě na podobné téma Honza Mittner bude pokračovat o konkrétním řešení deploymentu pro PHP u nich v agentuře.</p>

<p>V další sekci je na téma Javascript. JIŘÍ KNESL bude ukazovat Test Driven Development v CoffeeScriptu. Po něm bude pokračovat VOJTA JÍNA s MVC frameworkem  AngularJS. Protože používím BackboneJS, zajímá mě srovnání s AngularJS.</p>

<p>Protože ve svých projektech používám Google Maps Api, zajímají mě přednášky o konkurenci. Podívám se jak to dělají u Nokie (MICHAL AICHINGER, Nestačí vám vaše oblíbené mapové API? Zkuste Nokia mapy) a u Seznamu, kde nám ADAM CHVAJA řekne o On-line mapách u nás a ve světě.</p>

<p>Protože, pracuji s CouchDB a provoz MongoDB se spíše vyhýbám, tak se těším na zkušenosti z Centra v přednášce Lukáše LINHARTa o  MongoDB.</p>

<p>Nakonec to nejlepší DOUGLAS CROCKFORD, Serversideness, jednoznačná nejzajímavější přednáška letošního Webexpa, doufám, že nezklame.</p>

<p>V sobotu budeme pokračovat, nejprve se podívám na to co bude PAVEL CAMPR a JIŘÍ PRAUS povídat o Symfony 2, které mi přijde asi jako nejpropracovanější PHP framework dneška. RASMUS LERDORF a jeho PHP in 2011 je povinnost pro každého kdo programuje aspoň trochu v PHP. Michal Špaček ze Skypu a jaho Strategie kešování jistě nezklame.</p>

<p>Velice se těším na přednášku Scala &ndash; jazyk budoucnosti, ZDENĚK FARANA nám ukáže v čem je tento jazyk tak zajímavý a já dám možná JVM ještě někdy šanci.</p>

<p>KAREL MINAŘÍK a LUKÁŠ VLČEK jsou nejznámější vývojáři co mají u nás dělají s ElasticSearch. Karel je autorem ruby gemu Tire na práci s ES a Lukáš napsal jeden z nástrojů pro monitoring a přispívá k vývoji ES. Jejich ElasticSearch: Za hranice běžného fulltextového vyhledávání bude jistě jedna z nejzajímavějších přednášek Webexpa.</p>

<p>HONZA KRÁL je známý Python vývojář a ukáže nám jak se má psát kód tak, aby byl testovatelný a jeho Testování prakticky určitě bude zajímavé pro všechny vývojáře i testery. JAKUB VRÁNA s přednáškou Ajaxizace určitě zaujme.</p>

<p>Doufám, že se tam uvidíme a zkuste dát svoje tipy co vás zaujalo.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2011/04/php-a-rabbitmq/">PHP a RabbitMQ</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-04-10T00:00:00+02:00" pubdate data-updated="true">10. 04. 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>V poslední době se objevilo hodně článků o <a href="http://www.rabbitmq.com/">RabbitMQ</a> a připravuje se <a href="http://manning.com/videla/">kniha</a> kde většina příkladů je v PHP.  Připravil jsem malou demonstraci jak se message queue dobře využit. RabbitMQ je napsaný v Erlangu podobně jako CouchDB a hodí ke zpracování dávkových úloh. V demonstraci využívám knihovnu <a href="http://code.google.com/p/wkhtmltopdf/">wkhtmltopdf</a> která umí zpracovat html stránku na PDF, používá k tomu webkit jádro.</p>

<h2>Design</h2>


<p>Malý design aplikace jsem zvolil takto:  <img class="aligncenter" title="rabbitmq_design" src="https://github.com/abtris/php-rabbitmq-wkhtmltox-demo/raw/master/docs/design.png" alt="" width="600" /></p>

<h2>Kód</h2>


<p>Základ aplikace jsou dva úlohy producer a consumer. Nejdříve je potřeba pustit consumer.</p>

<pre class="code">error_reporting(E_ALL);
/**
 * Application path
 */
define('APPLICATION_PATH', realpath(dirname(__FILE__) . '/../application'));
/**
 * Application enviroment
 */
define('APPLICATION_ENV', 'development');

require_once APPLICATION_PATH . '/models/Rabbit.php';
/**
 * /Ensure library/ is on include_path
 */
set_include_path(implode(PATH_SEPARATOR, array(
    realpath(APPLICATION_PATH . '/../library'),
    get_include_path()
)));

/** Zend_Application */
require_once 'Zend/Application.php';

// Create application, bootstrap, and run
$application = new Zend_Application(
    APPLICATION_ENV,
    APPLICATION_PATH . '/configs/application.ini'
);
$application-&gt;getBootstrap()-&gt;bootstrap();

$config = new Zend_Config_Ini(APPLICATION_PATH . '/configs/application.ini', APPLICATION_ENV);

$r = new Application_Model_Rabbit($config-&gt;rabbitmq);
$r-&gt;consumer();</pre>


<p>Tento script musí běžet na serveru, kde se zpracovává vlastní požadavek. Model potom volá metodu, která se vykoná.</p>

<pre class="code">        $conn = new AMQPConnection($this-&gt;options['host'],
                                   $this-&gt;options['port'],
                                   $this-&gt;options['user'],
                                   $this-&gt;options['pass'],
                                   $this-&gt;options['vhost']
        );

        $channel = $conn-&gt;channel();
        /**
         * $exchange, $type,$passive=false,$durable=false,$auto_delete=true,
         */
        $channel-&gt;exchange_declare(self::EXCHANGE, 'direct', false, true, false);
        $channel-&gt;queue_declare(self::QUEUE);
        $channel-&gt;queue_bind(self::QUEUE, self::EXCHANGE);

        $consumer = function($msg) {
          $msg-&gt;delivery_info['channel']-&gt;basic_cancel($msg-&gt;delivery_info['delivery_tag']);
          if ($msg-&gt;body == 'quit') {
              $msg-&gt;delivery_info['channel']-&gt;basic_cancel($msg-&gt;delivery_info['consumer_tag']);
          } else {
              if (!empty($msg-&gt;body))  {
                  // make PDF
                  Application_Model_Wkhtmltopdf::proceed($msg-&gt;body, APPLICATION_PATH . '/../output/');
                  // notify user
                  system("growlnotify -n \"Rabbit demo\" -m \"PDF CREATED\"");
              }
          }
        };

        $channel-&gt;basic_consume(self::QUEUE,
                                self::CONSUMER_TAG,
                                false,
                                false,
                                false,
                                false,
                                $consumer);
        while (count($channel-&gt;callbacks)) {
            $channel-&gt;wait();
        }

        $channel-&gt;close();
        $conn-&gt;close();</pre>


<p>Vlastní aplikace je potom jednoduchá</p>

<pre class="code">    public function indexAction()
    {
        $r = new Application_Model_Rabbit($this-&gt;_config-&gt;rabbitmq);

        $this-&gt;view-&gt;form = $form = new Application_Form_AddUrl();
        // process form
        if ($this-&gt;getRequest()-&gt;isPost()) {
            $formData = $this-&gt;getRequest()-&gt;getParams();
            if ($form-&gt;isValid($formData)) {
                $r-&gt;setUrl($form-&gt;url-&gt;getValue());
                $r-&gt;run();
            } else {
                $form-&gt;populate($formData);
            }
        }

        $this-&gt;view-&gt;url = $r-&gt;getUrl();
    }</pre>


<p>a volá se producer, který invokuje RabbitMQ</p>

<pre class="code">        $conn = new AMQPConnection($this-&gt;options['host'],
                                   $this-&gt;options['port'],
                                   $this-&gt;options['user'],
                                   $this-&gt;options['pass'],
                                   $this-&gt;options['vhost']
        );
        $channel = $conn-&gt;channel();
        $channel-&gt;exchange_declare(self::EXCHANGE,
                                   'direct',
                                   false,
                                   true,
                                   false);
        $msg = new AMQPMessage($string, array('content-type' =&gt; 'text/plain'));
        $channel-&gt;basic_publish($msg, self::EXCHANGE);
        $channel-&gt;close();
        $conn-&gt;close();</pre>


<p>Demo u mne funguje velmi dobře, nevím jak na jiných platformách, zkoušel jsem to jen na Macu. Na linuxu by to mělo fungovat obdobně. Jen pro webovou aplikaci by bylo vhodné použít jiný systém notifikace pro webovou aplikaci. Nenašel jsem jak například předávat notifikace přes RabbitMQ, ale pokud někdo víte jak to elegatně udělat přidejte to do komentářů.</p>

<p>Veškerý zdrojový kód je <a href="https://github.com/abtris/php-rabbitmq-wkhtmltox-demo">dostupný na githubu</a>.</p>

<p>Zvolil jsem jednoduché jednosměrné řešení bez implementace RPC, kde by se dala pro notifikaci použít reply fronta. Ale myslím, že to celkem stačí pro vetšinu dávkových aplikací jako jsou logovaní, upload souborů i generovaní PDF. Nic nebrání nahradit moji notifikaci například posláním linku ke stažení výsledného PDF apod. Příklad by šel pomocí RPC vylepšit na notifikaci přímo v aplikaci. Pro implementaci RPC lze například použít <a href="https://github.com/tnc/Thumper">Thumper</a>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2011/03/phpfog-cloudove-reseni-pro-php/">phpfog - cloudové řešení pro PHP?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-03-14T00:00:00+01:00" pubdate data-updated="true">14. 03. 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Pokud se zajímáte o cloudové technologie, tak možná znáte <a href="http://heroku.com/">Heroku</a>. Heroku je pěkné řešení pro Ruby, které vám umožní vytvářet aplikace v Sinatře nebo v Rails a deployment provádět pomocí Gitu. Pro PHP mi něco takového dlouho chybělo, ale začíná se částečně situace vylepšovat, protože je na světe <a href="http://phpfog.com">PHP Fog</a>.</p>

<p><a href="http://blog.prskavec.net/wp-content/uploads/2011/03/phpfog-homepage-3.jpg"></a><a href="http://blog.prskavec.net/wp-content/uploads/2011/03/phpfog-homepage-4.jpg"><img class="aligncenter size-medium wp-image-6432" title="phpfog-homepage-4" src="http://blog.prskavec.net/wp-content/uploads/2011/03/phpfog-homepage-4-300x163.jpg" alt="" width="300" height="163" /></a></p>

<h2>Co vám přinese PHP Fog</h2>


<p>Mě se na cloudovém řešení libí, že je to pro vývojáře jednoduché a praktické. Nemusím řešit server, jeho provoz. Jen si nastavím konfiguraci apache, php.ini a vytvořenou aplikaci si přes git push pošlu na server k deploymentu a za pár okamžiků to běží.</p>

<p>Podobně to lehce vyřeším i na svém serveru pomocí SSH a Capistrano, ale stejně se musím starat o instalaci VPS. Jednodušší varianta je jen hosting s SSH přístupem například co mám na <a href="http://www.hostmonster.com">Hostmonster</a>. Tam je problém, ale se škálováním pokud by se stal projekt úspěšný.</p>

<p>Ukážu jak jsem během 5min rozběhl Zend Framework projekt s CouchDb hostovanou na couchone hostingu. Můžete použít MySQL, další db přímo hosting nepodporuje. Doufám, že to časem rozšíří hlavně o podporu PostgreSQL a některé NoSQL (CouchDb, MongoDb).</p>

<ul>
    <li>PHP Version 5.3.2</li>
    <li>Apache Version 2.2.14</li>
    <li>MySQL Version 5.1.41</li>
</ul>


<h2>Vytvoření nové aplikace</h2>


<p>Po přihlášení, zatím přístup je omezen, registrace přes nějaké <a href="https://phpfog.com/#sign-up">Sign Up kódy</a>, dostupný link najdete na homepage PHP Fog. Pokud chci vytvořit novou aplikaci, musím si vybrat profil, kde jsou setupy pro známé frameworky nebo přímo aplikace.</p>

<p><a href="http://blog.prskavec.net/wp-content/uploads/2011/03/phpfog-newapp-3.jpg"><img class="aligncenter size-medium wp-image-6422" title="phpfog-newapp-3" src="http://blog.prskavec.net/wp-content/uploads/2011/03/phpfog-newapp-3-300x171.jpg" alt="" width="300" height="171" /></a></p>

<p>Já jsem zvolil zend framework a pokračoval k dalšímu kroku, kde si vybere formu hostingu. Na prvních 6 měsíců můžete zvolit variantu zdarma. V dokumentaci se píše, že bude po těch 6 měsících nějak zpoplatněna. To si myslím, že není moc dobrý tah a autoři doufám od toho upustí.</p>

<p><a href="http://blog.prskavec.net/wp-content/uploads/2011/03/phpfog-price-3.jpg"><img class="aligncenter size-medium wp-image-6423" title="phpfog-price-3" src="http://blog.prskavec.net/wp-content/uploads/2011/03/phpfog-price-3-300x116.jpg" alt="" width="300" height="116" /></a></p>

<p>Po zvolení tarifu tak se dostanete do nastavení kde je potřeba poladit pár věcí a udělat si checkout Git repository pro váš projekt. Najde si v nastavení také nastavení Vhostu apache a php.ini.</p>

<p>Hlavní nastavení je nahrání SSH public key pro přístup ke Gitu, podobně jako na Githubu. Škoda, že se nedá přímo integrovat například pomocí nastavení remote větve na Github server. SSH a FTP přístup není k dispozici.</p>

<p><a href="http://blog.prskavec.net/wp-content/uploads/2011/03/phpfog-sourcecode-3.jpg"><img class="aligncenter size-medium wp-image-6424" title="phpfog-sourcecode-3" src="http://blog.prskavec.net/wp-content/uploads/2011/03/phpfog-sourcecode-3-300x99.jpg" alt="" width="300" height="99" /></a></p>

<p>Potom jsem udělal git checkout, nahrál do repository kód a pomocí git push spustil aplikaci, která běží na doméně podle jména které zadáte při vytváření aplikace. Provoz aplikace částečně můžete kontrolovat pomocí nahlížení do logů apache přes webové rozhraní.</p>

<p><a href="http://blog.prskavec.net/wp-content/uploads/2011/03/phpfog-logs-3.jpg"><img class="aligncenter size-medium wp-image-6421" title="phpfog-logs-3" src="http://blog.prskavec.net/wp-content/uploads/2011/03/phpfog-logs-3-300x157.jpg" alt="" width="300" height="157" /></a></p>

<h2>Závěr</h2>


<p>Projekt je na začátku a doufám, že bude mít štěstí a že se mu brzo objeví i další konkurenti, protože do Heroku to má daleko, ale jdou dobrou cestou. Trochu mi přijde cenová politika trochu dražší než bežná jiná řešení, ale asi to bude daň za provoz na Amazon cloudu (MySQL).</p>

<p>Pokud jste to někdo další vyzkoušeli nebojte se o to s námi podělit, případně nevíte někdo o dalších alternativách pro PHP?</p>

<p>&nbsp;</p>

<p>&nbsp;</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2011/02/podpora-profilovani-cachegrindkcachegrind/">Podpora profilování cachegrind/KCachegrind v Xdebugu</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-02-23T00:00:00+01:00" pubdate data-updated="true">23. 02. 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Dnes je část profilování v Xdebugu (<a title="Xdebug je open-source nástroj na ladění PHP. " href="http://xdebug.org"><a href="http://xdebug.org">http://xdebug.org</a></a>) ukládána do souborů v KCacheGrind formátu. Tato funkce byla přidána do Xdebugu, ale není dle <a href="http://kcachegrind.sourceforge.net/html/CallgrindFormat.html">specifikace formátu</a>. Byla vytvořena revezním inženýrstvým a tato stávající implementace obsahuje chyby a nepřesnosti.</p>

<p>Od verze 0.6 je KCacheGrind více striktní ohledně interpretace formátu a to způsobuje chyby při jeho používání s výstupy Xdebugu  <a href="https://bugs.kde.org/show_bug.cgi?id=256425"><a href="https://bugs.kde.org/show_bug.cgi?id=256425">https://bugs.kde.org/show_bug.cgi?id=256425</a></a>.</p>

<p><strong>Vybraná částka</strong> bude použita, aby <strong>Derick Rethans</strong> mohl správně vyřešit problém s integrací Xdebugu/KCacheGrindu. Správně vyřešit znamená, že předělá celou část zapisu profilovacích souborů. Rozhodně se tedy nejedná jen o jednoduchou opravu chyby jako je přidání jednoho řádku.</p>

<p><strong>Dnes 2.3.2011 byla částka úspěšně vybrána, všem co přispěli na dobrou věc děkuji.</strong></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2011/02/phpstorm-2-0/">PHPStorm 2.0 - nová verze multiplatformního vývojového prostředí</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-02-14T00:00:00+01:00" pubdate data-updated="true">14. 02. 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Dnes 14.2.2011 vyšela nová verze IDE pro PHP od <a title="JetBrains :: World's Leading Vendor of Professional Development Tools" href="http://www.jetbrains.com/">JetBrains</a> <a title="PHP IDE :: JetBrains PhpStorm" href="http://www.jetbrains.com/phpstorm/">PHPStorm 2.0</a>.</p>

<h3>Hlavní výhody tohoto IDE</h3>


<ul>
    <li>základní vlastnosti IDE
<ul>
    <li>jednoduchá instalace</li>
    <li>rychlý start</li>
    <li>funguje na Windows, Linux a Mac OS X</li>
    <li>jednoduchá konfigurace projektů, můžete začít kde chcete</li>
</ul>
</li>
    <li>inteligentní php editor
<ul>
    <li>doplňování kódu</li>
<a href="http://blog.prskavec.net/wp-content/uploads/2011/02/php-code-completation-2.jpg"><img class="aligncenter size-full wp-image-6379" title="php-code-completation-2" src="http://blog.prskavec.net/wp-content/uploads/2011/02/php-code-completation-2.jpg" alt="" width="700" /></a>
    <li>refaktoring</li>
    <li>podpora pro Smarty a PhpDoc</li>
<a href="http://blog.prskavec.net/wp-content/uploads/2011/02/phpdoc-support-1-2.jpg"><img class="aligncenter size-full wp-image-6381" title="phpdoc-support-1-2" src="http://blog.prskavec.net/wp-content/uploads/2011/02/phpdoc-support-1-2.jpg" alt="" width="298" height="136" /></a>
<a href="http://blog.prskavec.net/wp-content/uploads/2011/02/php-doc-support-2-2.jpg"><img class="aligncenter size-medium wp-image-6380" title="php-doc-support-2-2" src="http://blog.prskavec.net/wp-content/uploads/2011/02/php-doc-support-2-2-300x178.jpg" alt="" width="300" height="178" /></a>
    <li>rychlá navigace (fuzzy search)</li>
    <li>editor pro mixování jazyků (html, js, xml, xsl)</li>
    <li>vlastní různé konfigurace vzhledů IDE kompatibilní s IDEA platform (IDEA, Rubymine)</li>
</ul>
</li>
    <li>pokročilý javascriptový editor
<ul>
    <li>procházení DOMu</li>
    <li>javascriptový debugger</li>
    <li>javascriptový refaktoring</li>
    <li>jako u php je navigace v kódu a vyhledávání užití</li>
</ul>
</li>
    <li>html a css editor
<ul>
    <li>podpora HTML5</li>
    <li><a title="zen-coding - Project Hosting on Google Code" href="http://code.google.com/p/zen-coding/">Zen</a> coding</li>
    <li>validace a rychlé opravy</li>
    <li>ukázky aplikovaných stylů</li>
</ul>
</li>
    <li>chytré prostředí
<ul>
    <li>podpora pro <a href="http://www.phpunit.de">phpunit</a></li>
    <li>podpora verzovacích systémů (<a href="http://subversion.apache.org">SVN</a>, CVS, <a href="http://www.git-scm.com">Git</a>, Mercurial a další)</li>
    <li>FTP a synchronizace vzdálených souborů</li>
    <li>Lokální historie souborů</li>
</ul>
</li>
    <li>visuální debugger
<ul>
    <li>podpora pro xdebug i zend debugger</li>
    <li><a href="http://blogs.jetbrains.com/webide/2011/02/zero-configuration-debugging-with-xdebug-and-phpstorm-2-0/">jednoduchá konfigurace</a></li>
    <li>breakpointy v PHP, JS, HTML</li>
</ul>
</li>
</ul>


<p><a href="http://blog.prskavec.net/2010/02/jetbrains-phpstorm/">Minulý rok jsem psal o verzi 1.0</a>, od té doby prostředí bylo velmi vylepšeno a stále se pracuje na vylepšení. Jetbrains chtějí konkurovat Zend Studiu a to není lehký soupeř.</p>

<p>Osobně mě nejvíce vyhovuje fuzzy vyhledávání v souborech, kde lehce najdu při práci se Zend Frameworkem příslušnou šablonu ke controlleru a velmi slušně funguje i potřebné vyhledání užití nebo nápověda.</p>

<p><a href="http://blog.prskavec.net/wp-content/uploads/2011/02/quick-documentation.jpg"><img class="aligncenter size-full wp-image-6387" title="quick-documentation" src="http://blog.prskavec.net/wp-content/uploads/2011/02/quick-documentation.jpg" alt="" width="764" /></a></p>

<p>V práci používám Zend Studio. Doma jsem dříve pracoval v Netbeans. Minulý rok jsem si při přechodu Mac OS X si koupil licenci PHPStorm 1.0, která obsahuje i 1 rok podpory včetně všech upgradů (tedy i verze 2.0) na které pracuji doteď. Zadal jsme několik chyb a podnětů a všemi se vývojáři zabývali a nějak je řešili.</p>

<p>Závěrem chci říct, že IDE je potřeba vyzkoušet a uvidíte jak jak vám sedne. Trial verze je zdarma k vyzkoušení a pokud znáte platformu IDEA tak využijete i spoustu pluginů, které jsou pro IntelliJ IDEA a Rubymine.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2011/02/vytvareni-vyvojoveho-virtualniho-prostredi-s-pomoci-virtualboxu-a-vagrantu/">Vytváření vývojového Virtuálního prostředí pomocí VirtualBoxu a Vagrantu</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-02-02T00:00:00+01:00" pubdate data-updated="true">02. 02. 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://www.virtualbox.org/">Oracle VirtualBox</a> je známé virtualizační prostředí pro platformy linux, mac a windows. Já VirtualBox používám na linux, mám na něm Ubuntu, které používám na školení Subversion nebo na vývoj webových aplikací jako server. Do nedávna jsem to používal na Macu nebo Linux pro běh Windows apod. O tomto používání nechci dnes mluvit.</p>

<p><a href="http://www.vagrantup.com">Vagrant</a> je nástroj napsaný v Ruby, který nám umožňuje modifikovat virtualní stroj podle našich představ pomocí nějakého předpisu, který nám udělá co chceme. Ukážeme si to na příkladu, že připravím linuxový server pro webový vývoj s Apache, PHP5, MySQL, CouchDB.</p>

<p>Začneme instalací Vagrantu</p>

<pre class="code">sudo gem install vagrant
vagrant box add base http://files.vagrantup.com/lucid32.box</pre>


<p>Vytvoříme si ukázkový projekt.</p>

<pre class="code">mkdir vagrant-lamp
cd vagrant-lamp
vagrant init</pre>


<p>Musíme upravit Vagrantfile podle následujícího předpisu (pro Vagrant 0.7).</p>

<pre class="code">Vagrant::Config.run do |config|
  # All Vagrant configuration is done here. For a detailed explanation
  # and listing of configuration options, please view the documentation
  # online.

  # Every Vagrant virtual environment requires a box to build off of.
  config.vm.box = "base"

  config.vm.forward_port("http", 80, 8080)
  config.vm.forward_port("mysql", 3306, 3306)
  config.vm.forward_port("couchdb", 5984, 5984)

  config.vm.provision :chef_solo do |chef|
     chef.cookbooks_path = "cookbooks"
     chef.json.merge!({
        :mysql =&gt; {
            :server_root_password =&gt; "root"
        }
     })
     chef.add_recipe("vagrant_main")
  end

end</pre>


<p>Vytvoříme si adresáře pro recepty a pro web.</p>

<pre class="code">mkdir cookbooks
mkdir public</pre>


<p>Do cookbooks je potřeba nakopírovat recepty pro Chef. Doporučuji si vzít z Githubu celou cookbooks repository.
git clone <a href="https://github.com/opscode/cookbooks.git"><a href="https://github.com/opscode/cookbooks.git">https://github.com/opscode/cookbooks.git</a></a></p>

<p>protože receptů je hodně, doporučuji si to dám někam mimo a nakopírovat jen potřebné recepty. Pro nás jsou to ty, které jsou v úvodu default.rb a některé navíc jako je třeba erlang pro couchdb.</p>

<p>do adresáře cookbooks jsem si nakopíroval tyto recepty z cookbooks repository.</p>

<pre>apache2
apt
couchdb
erlang
git
mysql
openssl
php</pre>


<p>Potom si vytvoříme vlastní recept, který celou akci <a href="http://www.opscode.com/chef">Chefa</a> v Vagrantu bude řídit.</p>

<pre>mkdir -p cookbooks/vagrant_main/recipes
vim default.rb</pre>


<p>Přidáme potřebné recepty</p>

<pre>require_recipe "apt"
require_recipe "apache2"
require_recipe "mysql::server"
require_recipe "php::php5"
require_recipe "git"
require_recipe "couchdb"</pre>


<p>Kromě instalace z receptů provede instalaci některý dalších balíčků v Ubuntu</p>

<pre># Some neat package (subversion is needed for "subversion" chef ressource)
%w{ debconf php5-xdebug subversion mc htop curl }.each do |a_package|
  package a_package
end</pre>


<p>Vytvoříme si testovací vývojový web.</p>

<pre>s = "dev-site"
site = {
  :name =&gt; s,
  :host =&gt; "www.#{s}.com",
  :aliases =&gt; ["#{s}.com", "dev.#{s}-static.com"]
}</pre>


<p>použije se template uložena v vagrant_main/templates/default/sites.conf.erb a příslušné proměnné</p>

<pre># Configure the development site
web_app site[:name] do
  template "sites.conf.erb"
  server_name site[:host]
  server_aliases site[:aliases]
  docroot "/vagrant/public/"
end</pre>


<p>modifikujeme si hosty</p>

<pre># Add site info in /etc/hosts
bash "info_in_etc_hosts" do
  code "echo 127.0.0.1 #{site[:host]} #{site[:aliases]} &gt;&gt; /etc/hosts"
end</pre>


<p>přidáme některé knihovny přímo z repository Subversion</p>

<pre># Retrieve webgrind for xdebug trace analysis
subversion "Webgrind" do
  repository "http://webgrind.googlecode.com/svn/trunk/"
  revision "HEAD"
  destination "/var/www/webgrind"
  action :sync
end</pre>


<p>nebo Git</p>

<pre># Retrieve adminer
git "Adminer" do
  repository "https://github.com/vrana/adminer.git"
  revision "HEAD"
  destination "/var/www/adminer/"
  action :sync
end</pre>


<p>a další</p>

<pre># Latest Zend Framework version
subversion "Zend" do
  # repository "http://framework.zend.com/svn/framework/standard/trunk/library/"
  repository "http://framework.zend.com/svn/framework/standard/tags/release-1.11.3/library/"
  revision "HEAD"
  destination "/srv/lib/php/"
  action :sync
end</pre>


<p>Potom je tu script, kterým se dá modifikovat práva pro MySQL, není problém si podobně udělat jakékoliv úpravy.</p>

<pre># Add an admin user to mysql
execute "add-admin-user" do
  command "/usr/bin/mysql -u root -p#{node[:mysql][:server_root_password]} -e \"" +
      "CREATE USER 'myadmin'@'localhost' IDENTIFIED BY 'myadmin';" +
      "GRANT ALL PRIVILEGES ON *.* TO 'myadmin'@'localhost' WITH GRANT OPTION;" +
      "CREATE USER 'myadmin'@'%' IDENTIFIED BY 'myadmin';" +
      "GRANT ALL PRIVILEGES ON *.* TO 'myadmin'@'%' WITH GRANT OPTION;\" " +
      "mysql"
  action :run
  ignore_failure true
end</pre>


<p>pro funkční port forwarding u CouchDb modifikovat konfiguraci a potřeba dát po prvním spuštění dát vargant reload aby se tato poslední změna promítla do nastavení virtuálu.</p>

<pre># Replace 127.0.0.1 bind port with 0.0.0.0 is necessary for port forwarding
execute "port-forward-couchdb" do
  command "sudo sed -i 's/127.0.0.1/0.0.0.0/g' /etc/couchdb/default.ini"
  action :run
end</pre>


<p>První spuštění pomocí</p>

<pre>vagrant up</pre>


<p>potom je potřeba pro CouchDb</p>

<pre>vagrant reload</pre>


<p>Kompletní repositář s tímto ukázkovým prostředím jsou dostupné na <a href="https://github.com/abtris/vagrant-lamp">Githubu</a>.</p>

<p>Pokud si rozbijete virtuál tak není problém začít znovu. Dáte <code>vagrant destroy</code> a potom znovu pustíte celý proces pomocí <code>vagrant up</code>.</p>

<p>Pokud se chcete přihlásit na virtuál použijte <code>vagrant ssh</code>.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2011/01/zend-framework-a-nosql-pro-ukladani-logu-ve-webovych-aplikaci-druhy-dil-o-mongodb/">Zend Framework a NoSQL pro ukládání logů ve webových aplikací, díl druhý o MongoDb</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-28T00:00:00+01:00" pubdate data-updated="true">28. 01. 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Jak už jsem psal v <a href="http://blog.prskavec.net/2010/08/zend-framework-a-nosql-pro-ukladani-logu-ve-webovych-aplikaci-dil-1-couchdb/">minulém díle o CouchDb</a> není žádný problém v použití dokumentových databází na logy. Výhodou je že se nemusíte starat o schema, což se u aplikace tohoto druhu opravdu hodí.</p>

<p>Pro napojení Zend Frameworku na logování do MongoDb musíte mít nainstalovanou MongoDb extenzi do PHP. Bez ní se bohužel neobejdete. Log writer si vytvoříte snadno pomocí extenze Zend_Log_Writer_Abstract a provedete drobné úpravy pro práci s MongoDb jak obsahuje ukázka.</p>

<pre class="code php">
/** Zend_Log_Writer_Abstract */
require_once 'Zend/Log/Writer/Abstract.php'; 
/**
 * ZendLogWriterCouchDb
 * @throws Zend_Log_Exception
 */
class App_Log_Writer_MongoDb extends Zend_Log_Writer_Abstract
{
    /**
     * Db
     * @var Mongo
     */
    private $_db;
    /**
     * Db name
     * @var string
     */
    private $_dbname;
    /**
     * Collection
     * @var string
     */
    private $_collection;
    /**
     *
     * @param array $params
     * @return void
     */
    public function __construct($options)
    {
        if (!extension_loaded('mongo')) {
            throw new Exception('The MongoDB extension must be loaded for using this logger !');
        }

        $options = $options->toArray();
        if (is_null($options)) {
            $options['host'] = "localhost";
            $options['port'] = "27017";
            $options['db'] = $dbname;
        }
        if (isset($options['user']) && isset($options['pass'])) {
            $conn = "{$options['user']}:{$options['pass']}@";
        } else {
            $conn = "";
        }
        $this->_db = new Mongo("mongodb://$conn{$options['host']}:{$options['port']}/{$options['db']}");
        $this->_dbname = $options['db'];
        $this->_collection = $options['collection'];
    }
    /**
     * @static
     * @param  $config
     * @return
     */
    static public function factory($config)                                                                                                                 
    {
        $config = self::_parseConfig($config);
        return $config;
    }
    /**
     * @param array $event
     * @return void
     */
    protected function _write($event)
    {
        $m = $this->_db;
        $m->connect();
        $c = $m->selectCollection($this->_dbname, $this->_collection);
        $c->insert($event);
    }

    
}
</pre>


<p>a tímto jste vlastně hotovy. Celý kód najdete na <a href='https://github.com/abtris/phplogger-mongodb'>githubu</a>. V ukázce je ještě samozřejmě upravený controller pro zobrazování a obsahuje možnost vytvářet testovací data.</p>

<p>MongoDb můžete nainstalovat lokálně nebo použít hosting <a href='http://mongohq.com'>mongohq.com</a>, kde základní databáze, která k testování stačí je zdarma. Potom se mi docela hodila utilita na Macu <a href="http://mongohub.todayclose.com/">Mongohub</a>, která poskytuje trochu konfortnější konzoli než webová konzole obsahující lokální instalaci. Na hostingu MongoHQ mají pěknou webovou administrační konzoli.</p>

<p>V PHP se kromě vlastní extenze dá ještě dobře použít pro Zend Framework knihovna <a href="https://github.com/coen-hyde/Shanty-Mongo">Shanty Mongo</a>, která zjednodušuje práci s Mongo Db na maximum.</p>

<p>Pokud budete chtít dělat složitější dotazy do MongoDb hodí se
<a href="http://www.mongodb.org/display/DOCS/SQL+to+Mongo+Mapping+Chart">SQL to Mongo Mapping Chart</a>.</p>

<p>Případné další tipy se nebojte napsat do komentářů.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/12/krest-knihy-1001-tipu-a-triku-pro-php/">Křest knihy 1001 tipů a triků pro PHP</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-23T00:00:00+01:00" pubdate data-updated="true">23. 12. 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Včera se konal křest knihy 1001 tipů a triků pro PHP Jakuba Vrány, prostředí Lokády v Praze Holešovicích bylo pekně vybráno. Jako ostatní jsem přišel podpořit Jakuba a koupit si jeho knihu s podpisem. Jirka Kosek se ujal role patrona knihy a pokřtil ji šampaňským jak se patří.</p>

<p>Zlatým hřebem večera byla dražba 1 výtisku knihy, který Jakub vlastnoručně vytiskl a měl první návrh obálky a autorovy poznámku. Tento výtisk vydražili po dramatickém boji zástupci skype.</p>

<br />


<p><code><a href="http://twitter.com/spazef0rze/statuses/17736007466094592">@spazef0rze</a> Tak jsme společně s @<a rel="nofollow" href="http://twitter.com/lukashudecek">lukashudecek</a> vydražili první výtisk knihy od @<a rel="nofollow" href="http://twitter.com/jakubvrana">jakubvrana</a> <a title="#php1001" rel="nofollow" href="http://twitter.com/search?q=%23php1001">#php1001</a> za 6100 pro Paraple. K vidění bude ve Skype office.</code></p>

<br />


<p>Druhý výtisk byla verze s komentáři Davida Grudla a jeho korekturami. Tento výtisk byl opatřen polibky hlavních aktérů jak můžete vidět na videu Martina Hassmana.</p>

<p>Celková cena se vyšplhala na 10010 Kč. Celkový průběh dramatické držby jsem se snažil <a href="http://twitter.com/#search?q=php1001">twittrovat</a>, ale nebylo sto zachytit všechny příhozy.</p>

<p>Celkový výtěžek dražby Jakub věnuje <a href="http://www.paraple.cz/">kontu Paraple</a>, taktéž část z nákupu knih při autogramiádě (3 Kč z každého prodaného výtisku).</p>

<p>Knihu jsem zběžně prohlédl a vidím v ní velký potenciál. Kniha je vhodná pro všechny PHP programátory, od začínajících, kterým může složit jako dobrý návod na to co zrovna řeší. Jednotlivé tipy jsou stručné, výstižné a jdou přímo k věci. Zkušenější programátoři asi nenajdou nic objevného, ale pár tipů vás jistě jako mne zaujme také.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/09/webexpo-2010-na-co-pujdu-na-konferenci/">Webexpo 2010 - Na co půjdu na konferenci</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-09-12T00:00:00+02:00" pubdate data-updated="true">12. 09. 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Webexpo 2010 je před námi a já se s vámi podělím na které přednášky chci jít.</p>

<h3>Čtvrtek 23.9. Workshopy</h3>


<p>Program je velmi nabitý a jasno je jen na workshopy, tam jsem si zamluvil hned dva.</p>

<p>Těším se na Symfony2 s kterým si celkem hraju, ale chci se naučit něco více a od koho lépe než hlavního vývojáře Symfony. Doctrine používám již nějaký rok v předchozí verzi 1.2 a sleduji Honzův seriál o Doctrine2 na zdrojáku.</p>

<p>Moc se těším na warp-up v Comu, to je moje oblíbená restaurace.</p>

<table>
<tbody>
<tr>
<th colspan="2">23.9. workshopy</th>
</tr>
<tr>
<td>09:30-13:30</td>
<td>Symfony2 - Fabien Potencier [ CEO, Sensio ]</td>
</tr>
<tr>
<td>14:00-17:00</td>
<td>Doctrine2 - Jan Tichý [ Medio Interactive ]</td>
</tr>
<tr>
<td>18:00</td>
<td>Warm-up party v Como</td>
</tr>
</tbody>
</table>


<h3>Pátek 24.9.</h3>


<p>V pátek je to hned složitější jak si na začátek vybrat. V bloku od 10 do 11:30 je mnoho kvalitních přednášek.</p>

<p>Na Karla Minaříka bych rád šel, jeho přednášky jsou vždy super a zábavné. Ale CouchDb jsem prozkoumal a vyzkoušel v pár drobných aplikací, případně se podiskutuji s Karlem osobně. Po přečtení knihy &ldquo;Back to Napkin&rdquo; mě zajímá přednáška Visual Note Taking / Sketchnotes. Potom je tu PHP Room, kde mě zajímá hlavně přednáška Roberta Lemke.</p>

<p>V dalším bloku budu pokračovat v Agile room, kde chci vidět jak se na vývojový proces koukají jiný, to je věc, kterou řeším v práci každý den. Rozhodně bych si chtěl promluvit s Petrem Ferschmann o Flexibee, které také sám používám. Jak znám Martina Hujera, bude zajímavá i jeho přednáška o Windows Azure.</p>

<p>V dalším bloku ještě zůstanu v agilní sekci na přednášku Soft Skill Essentials for Software Craftsmen. Jak vývojář PHP bych určitě šel na přednášky vývojářů z firmy Skype. Už jsem je viděl na Poslední sobotě a Openmeetingu tak můžu doporučit.</p>

<p>Další blok absolvuji v PHP Room, Dericka znám z jiných konferencí a doufám, že ukáže něco víc než dneska umím s Xdebugem nějaké skryté know-how a nazorů na TDD není nikdy moc, uvidíme s čím se předvede Filip Šubr.</p>

<p>Nakonec půjdu do Development Hall, kde David předvede novinky v Nette Framework 1.0 a potom následuje Digit s Petrem Márou a Honzou Březinou, hostem bude konečně i David Grudl.</p>

<table>
<tbody>
<tr>
<th colspan="2">24.9.</th>
</tr>
<tr>
<td>10:00-11:30</td>
<td>Visual Note Taking / Sketchnotes - Eva-Lotta Lamm</td>
</tr>
<tr>
<td></td>
<td>Creating Clean Code with Aspect-Oriented Programming - Robert Lemke</td>
</tr>
<tr>
<td>11:45-13:00</td>
<td>Software Development = Learning - Maria Diaconu, Alex Bolboaca</td>
</tr>
<tr>
<td>14:30-16:00</td>
<td>Soft Skill Essentials for Software Craftsmen - Pierluigi Pugliese</td>
</tr>
<tr>
<td>16:15-17:30</td>
<td>Debugging with Xdebug - Derick Rethans</td>
</tr>
<tr>
<td></td>
<td>Vývoj v PHP řízený testy - Filip Šubr</td>
</tr>
<tr>
<td>17:45-19:00</td>
<td>Nette 1.0</td>
</tr>
<tr>
<td></td>
<td>Digit s Davidem Grudlem</td>
</tr>
</tbody>
</table>


<h3>Sobota 25.9.</h3>


<p>Sobota na Webexpu je velmi plná, v prvním bloku se přesunu do Agile Room, kde jsem zvědavý na Scrum ve Seznamu a o tom jak prosadit ve firmě. U nás ve firmě Scrum ukončil před 2 lety a to jsem tam ještě nebyl. Zajímavé přednášky jsou Development Hall, přednáška Aleše Roubíčka bude jistě zajímavá a další přednáška o node.js a uplatnění Javascriptu na serveru jistě také zaujme.</p>

<p>Od 11:45 určitě zajdu na přednášku Vaška Vančury, protože jeho přístup ke flashi se mi velmi líbí a byl bych rád, kdyby se to více rozšířilo a nepáchali všechno v Adobe Flash Builderu.</p>

<p>Nejsem si jistý, zda nevynechám Symfony2 po tom co absolvuji workshop ve čtvrtek, ale uvidím. Potom se půjdu podívat na přednášku jak prodat agilní vývoj to se může hodit.</p>

<p>Nakonec Ryan Singer a jeho přednáška Designing from start to finish bude skvělé zakončení konference.</p>

<table>
<tbody>
<tr>
<th colspan="2">25.9.</th>
</tr>
<tr>
<td>10:00-11:30</td>
<td>A Year with Scrum in Seznam.cz - Tomáš Pergler</td>
</tr>
<tr>
<td></td>
<td>Scrum for Executives - Six Secrets for Success with Scrum - Boris Gloger</td>
</tr>
<tr>
<td>11:45-13:00</td>
<td>Příprava dat pro rychlé a malé aplikace ve Flashi - Vašek Vančura</td>
</tr>
<tr>
<td>14:30-16:00</td>
<td>Symfony2 - Fabien Potencier</td>
</tr>
<tr>
<td>16:15-17:30</td>
<td>Selling Agile - Paul Klipp</td>
</tr>
<tr>
<td>17:45-19:00</td>
<td>Designing from start to finish - Ryan Singer</td>
</tr>
</tbody>
</table>


<h3>Závěr</h3>


<p>Myslím, že Vašek Stoupa se svým týmem udělal obrovský kus práce a doufám, že budu moci psát stejně pozitivní zážitky i po konferenci jako mám dojem před konferencí.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/2010/08/upgrade-android-na-t-mobile-g1-z-1-6-na-2-2/">Upgrade Androidu na T-mobile G1 z 1.6 na 2.2 (aktualizováno 22.3.2011)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-08-31T00:00:00+02:00" pubdate data-updated="true">31. 08. 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Mám G1 koupenou u T-mobille. Mám ji sotva rok a ve světě Androidu je celkem už skoro nepoužitelný telefon. Nikdy jsem nepřišel na chuť nahrávat si tam nové romky apod. Ale když vydal Google nový Android 2.2 Froyo s JIT tak jsem si říkal, že tohle přesně G1 potřebuje. Bohužel T-mobile i HTC se vykašlali na uživatele a jediné co chtějí aby jste si koupili nový telefon. Protože svoji G1 mám celkem rád a nechtěl jsem ji poslat do věčných lovišť tak jsem přistoupil na upgrade CyanogenMod 6.</p>

<p>Nečekejte nějaký úplný návod, rady apod. Pokud se chcete ptát využijte <a href="http://androidforum.cz/">Android forum</a>. Já jsem ale použil postup, který je ve <a href="http://wiki.cyanogenmod.com/index.php?title=Full_Update_Guide_-_HTC_Dream">wiki</a>.</p>

<ul>
    <li><a href="http://wiki.cyanogenmod.com/index.php?title=Universal_Androot">UniversalRoot</a></li>
    <li><a href="http://wiki.cyanogenmod.com/index.php?title=DangerSPL_and_CM_5_for_Dream">Danger SPL</a></li>
    <li><a href="http://forum.cyanogenmod.com/index.php?/files/category/3-htc-dream-htc-magic/">potřebné soubory ke stažení</a> (radio, rom, google apps tiny)</li>
</ul>


<p>Postupoval jsem asi takto:</p>

<ol>
    <li>Získal jsem root pomocí universal root</li>
    <li>Z marketu jsem nainstaloval ROM Manager</li>
    <li>Pomocí něj jsem nainstalo recovery rom RA 1.7</li>
    <li>Přes recovery jsem nainstaloval poslední radio, restartoval a ověřil ještě jednou, že je tam opravdu ta poslední verze, pokud to neuděláte a nainstalujete Danger SPL riskujete brick</li>
    <li>Potom pomocí recovery rozdělil SD kartu (nevím zda bylo nutné, měl jsem 2GB)</li>
    <li>Na SD kartu jsem uložil Rom a Google Apps Mini (full neobsahovala market)</li>
    <li>Na SD kartu jsem nahrál Danger SPL a nainstaloval a restartoval, potom jsem pomocí (Camera + tl. Vypnutí tel. najel do režimu, kde jsou vidět tančící androidi místo pruhů  a ověřil, že je vše ok, vypnete pomocí Přijmutí hovoru + Menu + Vypnutí tel.)</li>
    <li>Nastartoval jsem do Recovery (při bootu držet Home nebo z aplikace ROM manager) a dal jsem wipe a CyanogenMod 6 rom</li>
    <li>Stejným postupem jsem (bez wipe) jsem aplikoval Google Apps mini a provedl konečný restart</li>
    <li>První nabíhání trvalo trochu déle a jinak to jede ok.</li>
</ol>


<p>Každopádně všem, kteří to chtějí se svojí G1 zkusit přeji štěstí a ať se jim zdaří upgrade jako mě a netrvá jim to tak dlouho. Já jsem se zasekl hlavně na tom, že jsem stáhl poškozený zip romky a než jsem na to přišel tak to chvíli trvalo a už jsem se bál, že mám z toho brick, ale recovery mě zachránila. Kontrolujte MD5 všech stažených souborů!</p>

<p>Nakonec pár obrázků z mojí webové kamery:</p>

<p><a href="http://blog.prskavec.net/wp-content/uploads/2010/08/20100831-qnn71wxa9egmhrp3yjd3dkqddt.png"><img class="aligncenter size-full wp-image-4244" title="g1-with-22" src="http://blog.prskavec.net/wp-content/uploads/2010/08/20100831-qnn71wxa9egmhrp3yjd3dkqddt.png" alt="" width="252" height="462" /></a>
<a href="http://blog.prskavec.net/wp-content/uploads/2010/08/Cam-2-2.png"><img class="aligncenter size-medium wp-image-4247" title="g1-with-2.2-firmware-info" src="http://blog.prskavec.net/wp-content/uploads/2010/08/Cam-2-2-300x225.png" alt="" width="300" height="225" /></a></p>

<p>&nbsp;</p>

<h3>Aktualizace 22.3.2011</h3>


<ul>
    <li><a href="http://forum.xda-developers.com/showthread.php?t=831139">Aktualizace radia a kernelu</a>, přidá vám 14MB RAM a umožňuje lepší chod nových ROMS 2.2.X</li>
    <li>Poslední romku, kterou zkouším je <a href="http://forum.xda-developers.com/showthread.php?t=811620">Official AOSP 2.2 OTA</a>, který nemá podporu češtiny, ale zatím mi to přijde jako nejlepší 2.2 romka, kterou jsem měl. Ještě případně poreferuji, zatím to vypadá dobře, předchozí pokusy mě přivedli až k tomu, že telefon byl tak pomalý až nepoužitelný po cca měsíci používaní. Obzvláště poslední CM pro G1.</li>
</ul>

</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page//page/5/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/page//page/3/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <ul id="recent_posts">
      <li class="post">
      <a href="http://blog.prskavec.net" alt="Home"><img class="icons" src="/images/Home.png" ></a>
      <a href="http://blog.prskavec.net/archives/" alt="Archives"><img  class="icons" src="/images/Calendar.png"></a>
      <a href="mailto:ladislav@prskavec.net" alt="E-Mail"><img  class="icons" src="/images/Envelope.png"></a>
      <a href="http://blog.prskavec.net/atom.xml" alt="subscribe feed"><img class="icons" src="/images/rss_big.png"></a>
      </li>
  </ul>
</section>
<section>
  <h1>Ladislav Prskavec</h1>
  <p style="margin-top:6px;"><img src="/images/avatar.jpg" style="float:left; margin-right:10px;" width="100" height="115" /><a href="http://github.com/abtris/">Programátor</a>, otec, <a href="http://www.dzogchen.cz">buddhista</a>, milovník dobrého jídla, knih, nových technologí a hraček pro všechny s&nbsp;duší dítěte.
</p>
  <br style="clear:left;"/>
</section>
<section>
  <h1>Poslední příspěvky</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/2014/12/zapier-a-zasilani-zustatku-z-banky-zdarma-na-mobil/">Zapier a zasílání zůstatku z banky zdarma na mobil</a>
      </li>
    
      <li class="post">
        <a href="/2014/01/git-a-pre-commit-hook-pro-kontrolu-syntaxe-v-mnoha-jazycich/">Git a pre-commit hook pro kontrolu syntaxe</a>
      </li>
    
      <li class="post">
        <a href="/2013/11/docker/">docker</a>
      </li>
    
      <li class="post">
        <a href="/2013/09/jenkins-polling-a-git-notify/">Jenkins polling a git-notify</a>
      </li>
    
      <li class="post">
        <a href="/2013/08/firebase-a-angularjs/">Firebase a AngularJS</a>
      </li>
    
      <li class="post">
        <a href="/2013/06/angularjs-1-dot-2/">Jaký bude AngularJS 1.2?</a>
      </li>
    
      <li class="post">
        <a href="/2013/06/zdrojak-dan-menard-instant-angularjs-starter-recenze-prvni-knihy-o-angularjs/">Zdroják - Dan Menard: Instant AngularJS Starter (recenze první knihy o AngularJS)</a>
      </li>
    
      <li class="post">
        <a href="/2013/03/nodejs-hosting/">NodeJS Hosting</a>
      </li>
    
      <li class="post">
        <a href="/2012/12/railsgirls-v-praze/">RailsGirls v Praze</a>
      </li>
    
      <li class="post">
        <a href="/2012/10/praguejs-porada-s-gooddata-prednasku-o-ember-dot-js-prednasi-autori-frameworku-yehuda-katz-a-tom-dale/">PragueJS pořádá s GoodData přednášku o Ember.js. Přednáší autoři frameworku Yehuda Katz a Tom Dale.</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Subversion</h1>
  <p style="margin-top:6px; text-align:center"><a href="http://itunes.apple.com/cz/book/subversion/id498008712?mt=11" onClick="_gaq.push(['_trackEvent', 'link', 'itunes/subversion', 'svn-promo-sidebar-vpravo']);"><img src="http://a2.mzstatic.com/us/r30/Publication/v4/5c/1a/66/5c1a667d-2f78-b9b2-31ec-7c06ab9b74e8/B_SUBVERSION.225x225-75.jpg" style="float:left; margin-right:10px; width:172px; height:225px;" /></a>
</p>
  <br style="clear:left;"/>
</section>

<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/+LadislavPrskavec?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>


<section>
  <h1>GitHub</h1>

<iframe src="http://githubbadge.appspot.com/badge/abtris" style="border: 0;height: 142px;width: 200px;overflow: hidden;" frameBorder=0></iframe>

</section>
<section>
  <h1>Twitter</h1>
  <a class="twitter-timeline" width="250" height="500" href="https://twitter.com/abtris" data-widget-id="345276838232326144">Tweets by @abtris</a>
  <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>

</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Ladislav Prskavec -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-79221-21']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript">
(function (d, w, c) {
    (w[c] = w[c] || []).push(function() {
        try {
            w.yaCounter21617953 = new Ya.Metrika({id:21617953,
                    webvisor:true,
                    clickmap:true,
                    trackLinks:true,
                    accurateTrackBounce:true});
        } catch(e) { }
    });

    var n = d.getElementsByTagName("script")[0],
        s = d.createElement("script"),
        f = function () { n.parentNode.insertBefore(s, n); };
    s.type = "text/javascript";
    s.async = true;
    s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";

    if (w.opera == "[object Opera]") {
        d.addEventListener("DOMContentLoaded", f, false);
    } else { f(); }
})(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="//mc.yandex.ru/watch/21617953" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->


<script type="text/javascript">
      var disqus_shortname = 'prskavecblog';
      
        
        var disqus_script = 'count.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


<script src="/javascripts/all.js?v=1412111651"></script>



</body>
</html>
